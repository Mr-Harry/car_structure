# 结构化工作流程

## 整体思路
1. 探索从数据源过滤目标数据（汽车短文本）的正则
2. 为目标数据（汽车短文本）人工打标，获取分类模型的训练数据
    - 训练数据可能存在分布不均匀的问题，需要通过主动学习方法，对于数据量少的类别，补充数据
    - 训练数据标注可能存在歧义，需要通过脏数据工具，清洗有歧义的数据
3. 训练分类模型，要求验证集上分类准确率高于95%
4. 

## 衔接细节
### 关键节点：正则
使用1_regexp_exploring文件夹中的代码，生产正则
- 1_limit_sampling: 从数据源抽取10000条数据
- 2_regexp_filter: 检测自定义的正则对数据源的过滤结果，根据结果优化正则

正则逻辑
```text
1、目标数据

签名标签为汽车的数据
msg符合汽车行业规则（关键词或正则）的数据
2、获取逻辑

子规则：

规则1:  abnormal_label 包含 ‘正常文本’

规则2:  app_name 包含’汽车‘
规则3:  app_name 满足正则表达式：'?<[约专快打租单托拖运拼风叫机停泊有用行客货派公中吊卡重叉通出务动力]车$'

规则4:  suspected_app_name 包含'汽车'
规则5:  suspected_app_name 满足正则表达式：'?<[约专快打租单托拖运拼风叫机停泊有用行客货派公中吊卡重叉通出务动力]车$'

规则6:  msg 包含 '车'
规则7:  msg 满足正则表达式： '看车|试驾|试乘|提车|交易车辆|买车|购车|支付.*车款|售车|车抢购|购得爱车|喜得爱车|金融方案'

规则8:  msg 满足正则表达式： '约看(?![牙诊])|带看|询价|(询问|咨询).*价格|咨询.*销售顾问|欲购买|摇号|指标|竞价|竞得|竞拍|上拍|流拍|开拍|拍卖|流拍|报价|出价|成交|撮合邀请|感谢您来到' 

规则9:  msg 不包含’险‘
规则10:  msg 不包含’租‘
规则11：msg不包含‘电’
规则12:  msg 不包含’房‘，‘装修’，‘教育’
规则13:  msg 不包含’乘车‘，’车票‘，’车费‘，‘司机’
规则14:  msg 不包含‘移车’
规则15:  msg 不包含‘ETC’
规则16:  msg 不包含’资讯‘，‘证券’，‘股’，‘基金’，'涨'，'跌'
规则17:  msg不包含'卖'
规则17:  msg 不满足正则表达式：'[约专快打租单托拖运拼风叫机停泊有用行客货派公中吊卡重叉通出务动力]车|货运'
规则18：msg不包含’验证码‘，’登陆凭证‘，’动态密码‘，’激活码‘，’取件码‘
规则19：msg不满足正则表达式：退订|回复*[a-zA-Z]{1,4}[退拒]|拒收回[a-zA-Z]{1,4}|点击|戳|订回[a-zA-Z]{1,4}|低至.折
汇总：
(规则1) and (规则2 or 规则3 or 规则4 or 规则5 or (规则6 and (规则7 or 规则8))) and (规则9 and 规则10 and 规则11 and 规则12 and 规则13 and 规则14 and 规则15 and 规则16 and 规则17 and 规则18 and 规则19)
特别说明：
因为保险项目中包含了车险，所以在规则9中过滤了关键词险
因为汽车营销需求和租赁无关，所以在规则10中过滤关键词租
因为汽车项目和电车无关，所以在规则11中过滤关键词电
为了区分车贷类别和其他用途贷款（装修，教育，房屋），所以在规则12中过滤了关键词房，装修，教育
因为网约车出行项目已完成开发，所以在规则13中过滤了关键词乘车，车票，车费，司机
因为114移车的文本，结构高度相似且规范，可以通过114关键词过滤得到，无需加入分类模型，增加算法助理的打标负担，所以在规则14中不包含移车
因为高速ETC通行项目已完成开发，所以在规则15中过滤了关键词ETC
因为存在汽车衍生的金融产品交易资讯，和汽车营销无关，所以在规则16中过滤了关键词资讯,证券,股,基金
因为对于汽车营销而言，卖车行为是没有价值，所以在规则17中过滤了关键词卖
3、补充进字典中信息

无
```